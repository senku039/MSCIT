<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>OCR Result</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: linear-gradient(160deg, #fff6eb, #ffe6ed 60%, #ffe6f8); min-height:100vh; }
    .panel { border-radius: 16px; border: 1px solid #f0cad9; box-shadow: 0 12px 28px rgba(155, 55, 99, 0.13); }
    pre { white-space: pre-wrap; border-radius: 12px; }
  </style>
</head>
<body>
<div class="container py-4" style="max-width:1000px;">
  <a class="btn btn-light border mb-3" href="/ocr-tool">‚Üê Back to OCR</a>
  <div class="card panel mb-3"><div class="card-body"><h2>OCR Result</h2><p id="summary" class="mb-0"></p></div></div>
  <div class="card panel mb-3"><div class="card-body"><h4>Extracted Text</h4><pre id="extracted" class="bg-light p-3"></pre><h4>Corrected Text</h4><pre id="corrected" class="bg-light p-3"></pre><h4>Simplified Text</h4><pre id="simplified" class="bg-light p-3"></pre></div></div>
  <div class="card panel mb-3"><div class="card-body"><h4>Key Observations</h4><ul id="observations"></ul></div></div>
  <div class="card panel"><div class="card-body"><h4>Recommendations</h4><ul id="recommendations"></ul></div></div>
</div>
<script>
function decodePayload(){const p=new URLSearchParams(window.location.search);const d=p.get('data');if(!d)return null;try{return JSON.parse(atob(d.replace(/-/g,'+').replace(/_/g,'/')));}catch{return null;}}
const payload=decodePayload();
if(!payload){document.body.innerHTML='<div class="container mt-5"><div class="alert alert-warning">No OCR data found.</div></div>';}else{document.getElementById('summary').textContent=payload.summary||'';document.getElementById('extracted').textContent=payload.extracted_text||'';document.getElementById('corrected').textContent=payload.corrected_text||'';document.getElementById('simplified').textContent=payload.simplified_text||'';(payload.observations||[]).forEach(i=>{const li=document.createElement('li');li.textContent=i;document.getElementById('observations').appendChild(li);});(payload.recommendations||[]).forEach(i=>{const li=document.createElement('li');li.textContent=i;document.getElementById('recommendations').appendChild(li);});}
</script>
</body>
</html>
